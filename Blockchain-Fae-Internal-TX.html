<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Blockchain.Fae.Internal.TX</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Blockchain.Fae.Internal.TX.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">fae-2.0.0.0</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) Ryan Reich 2017-2018</td></tr><tr><th>License</th><td>MIT</td></tr><tr><th>Maintainer</th><td>ryan.reich@gmail.com</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Blockchain.Fae.Internal.TX</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Types</a></li><li><a href="#g:2">Functions</a></li><li><a href="#section.orphans">Orphan instances</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module provides the function that interprets transactions given as
source code.  The interpreter enables the following extensions globally;
this is the set of extensions I consider to be both generally harmless and
indispensable:</p><ul><li>BangPatterns</li><li>DeriveDataTypeable</li><li>DeriveGeneric</li><li>FlexibleContexts</li><li>FlexibleInstances</li><li>FunctionalDependencies</li><li>GeneralizedNewtypeDeriving</li><li>MultiParamTypeClasses</li><li>MultiWayIf</li><li>NamedFieldPuns</li><li>OverloadedStrings</li><li>PatternGuards</li><li>RecordWildCards</li><li>StandaloneDeriving</li><li>TupleSections</li><li>TypeApplications</li><li>TypeFamilies</li></ul></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:TX">TX</a> = <a href="#v:TX">TX</a> {<ul class="subs"><li><a href="#v:isReward">isReward</a> :: <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a></li><li><a href="#v:txID">txID</a> :: <a href="Blockchain-Fae-Internal-IDs-Types.html#t:TransactionID">TransactionID</a></li><li><a href="#v:txMaterials">txMaterials</a> :: <a href="Blockchain-Fae-Internal-Transaction.html#t:InputMaterials">InputMaterials</a></li><li><a href="#v:inputs">inputs</a> :: [<a href="Blockchain-Fae-Internal-Transaction.html#t:Input">Input</a>]</li><li><a href="#v:pubKeys">pubKeys</a> :: <a href="Blockchain-Fae-Internal-IDs-Types.html#t:Signers">Signers</a></li><li><a href="#v:fallback">fallback</a> :: [<a href="../base-4.10.1.0/Data-String.html#t:String">String</a>]</li></ul>}</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:UnquotedString">UnquotedString</a> = <a href="#v:UnquotedString">UnquotedString</a> <a href="../base-4.10.1.0/Data-String.html#t:String">String</a></li><li class="src short"><span class="keyword">newtype</span> <a href="#t:WrappedByteString">WrappedByteString</a> = <a href="#v:WrappedByteString">WrappedByteString</a> {<ul class="subs"><li><a href="#v:getWrappedByteString">getWrappedByteString</a> :: <a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString">ByteString</a></li></ul>}</li><li class="src short"><span class="keyword">type</span> <a href="#t:FaeInterpretT">FaeInterpretT</a> m = <a href="../hint-0.7.0/Hint-InterpreterT.html#t:InterpreterT">InterpreterT</a> (<a href="Blockchain-Fae-Internal-Storage.html#t:FaeStorageT">FaeStorageT</a> m)</li><li class="src short"><a href="#v:interpretTX">interpretTX</a> :: (<a href="Blockchain-Fae-Internal-Exceptions.html#t:Typeable">Typeable</a> m, <a href="../exceptions-0.8.3/Control-Monad-Catch.html#t:MonadMask">MonadMask</a> m, <a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; <a href="Blockchain-Fae-Internal-TX.html#t:TX">TX</a> -&gt; <a href="Blockchain-Fae-Internal-TX.html#t:FaeInterpretT">FaeInterpretT</a> m ()</li><li class="src short"><a href="#v:interpretImportedValue">interpretImportedValue</a> :: (<a href="Blockchain-Fae-Internal-Exceptions.html#t:Typeable">Typeable</a> m, <a href="../exceptions-0.8.3/Control-Monad-Catch.html#t:MonadMask">MonadMask</a> m, <a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; <a href="Blockchain-Fae-Internal-Storage.html#t:ExportData">ExportData</a> -&gt; <a href="Blockchain-Fae-Internal-TX.html#t:FaeInterpretT">FaeInterpretT</a> m ()</li><li class="src short"><a href="#v:importValueThrow">importValueThrow</a> :: <span class="keyword">forall</span> a m. (<a href="Blockchain-Fae-Internal-Contract.html#t:Exportable">Exportable</a> a, <a href="../adjunctions-4.4/Control-Monad-Representable-State.html#t:MonadState">MonadState</a> <a href="Blockchain-Fae-Internal-Contract.html#t:Escrows">Escrows</a> m) =&gt; <a href="Blockchain-Fae-Internal-TX.html#t:WrappedByteString">WrappedByteString</a> -&gt; m a</li><li class="src short"><a href="#v:faeInterpret">faeInterpret</a> :: (<a href="Blockchain-Fae-Internal-Exceptions.html#t:Typeable">Typeable</a> m, <a href="../exceptions-0.8.3/Control-Monad-Catch.html#t:MonadMask">MonadMask</a> m, <a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="Blockchain-Fae-Internal-Exceptions.html#t:Typeable">Typeable</a> a) =&gt; [<a href="../base-4.10.1.0/Data-String.html#t:String">String</a>] -&gt; <a href="../base-4.10.1.0/Data-String.html#t:String">String</a> -&gt; (a -&gt; <a href="Blockchain-Fae-Internal-Storage.html#t:FaeStorage">FaeStorage</a> b) -&gt; <a href="Blockchain-Fae-Internal-TX.html#t:FaeInterpretT">FaeInterpretT</a> m b</li><li class="src short"><a href="#v:runFaeInterpret">runFaeInterpret</a> :: (<a href="../exceptions-0.8.3/Control-Monad-Catch.html#t:MonadMask">MonadMask</a> m, <a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; <a href="Blockchain-Fae-Internal-TX.html#t:FaeInterpretT">FaeInterpretT</a> m a -&gt; m a</li><li class="src short"><a href="#v:mkTXIDName">mkTXIDName</a> :: <a href="Blockchain-Fae-Internal-IDs-Types.html#t:TransactionID">TransactionID</a> -&gt; <a href="../base-4.10.1.0/Data-String.html#t:String">String</a></li><li class="src short"><a href="#v:mkTXPathParts">mkTXPathParts</a> :: <a href="Blockchain-Fae-Internal-IDs-Types.html#t:TransactionID">TransactionID</a> -&gt; [<a href="../base-4.10.1.0/Data-String.html#t:String">String</a>]</li><li class="src short"><a href="#v:mkTXModuleName">mkTXModuleName</a> :: <a href="Blockchain-Fae-Internal-IDs-Types.html#t:TransactionID">TransactionID</a> -&gt; <a href="../base-4.10.1.0/Data-String.html#t:String">String</a></li></ul></div><div id="interface"><h1 id="g:1">Types</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TX" class="def">TX</a> <a href="src/Blockchain.Fae.Internal.TX.html#TX" class="link">Source</a> <a href="#t:TX" class="selflink">#</a></p><div class="doc"><p>This is the data type that identifies a transaction in a block; the
 actual transaction function is only known at the time of interpretation.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:TX" class="def">TX</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:isReward" class="def">isReward</a> :: <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:txID" class="def">txID</a> :: <a href="Blockchain-Fae-Internal-IDs-Types.html#t:TransactionID">TransactionID</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:txMaterials" class="def">txMaterials</a> :: <a href="Blockchain-Fae-Internal-Transaction.html#t:InputMaterials">InputMaterials</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:inputs" class="def">inputs</a> :: [<a href="Blockchain-Fae-Internal-Transaction.html#t:Input">Input</a>]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:pubKeys" class="def">pubKeys</a> :: <a href="Blockchain-Fae-Internal-IDs-Types.html#t:Signers">Signers</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:fallback" class="def">fallback</a> :: [<a href="../base-4.10.1.0/Data-String.html#t:String">String</a>]</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><p id="control.i:TX" class="caption collapser" onclick="toggleSection('i:TX')">Instances</p><div id="section.i:TX" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TX:Generic:1" class="instance expander" onclick="toggleSection('i:id:TX:Generic:1')"></span> <a href="Blockchain-Fae.html#t:Generic">Generic</a> <a href="Blockchain-Fae-Internal-TX.html#t:TX">TX</a></span> <a href="src/Blockchain.Fae.Internal.TX.html#line-79" class="link">Source</a> <a href="#t:TX" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:TX:Generic:1" class="inst-details hide"><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="../base-4.10.1.0/GHC-Generics.html#t:Rep">Rep</a> <a href="Blockchain-Fae-Internal-TX.html#t:TX">TX</a> :: <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a> <a href="#t:Rep" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:from">from</a> :: <a href="Blockchain-Fae-Internal-TX.html#t:TX">TX</a> -&gt; <a href="../base-4.10.1.0/GHC-Generics.html#t:Rep">Rep</a> <a href="Blockchain-Fae-Internal-TX.html#t:TX">TX</a> x <a href="#v:from" class="selflink">#</a></p><p class="src"><a href="#v:to">to</a> :: <a href="../base-4.10.1.0/GHC-Generics.html#t:Rep">Rep</a> <a href="Blockchain-Fae-Internal-TX.html#t:TX">TX</a> x -&gt; <a href="Blockchain-Fae-Internal-TX.html#t:TX">TX</a> <a href="#v:to" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TX:Serialize:2" class="instance expander" onclick="toggleSection('i:id:TX:Serialize:2')"></span> <a href="Blockchain-Fae-Internal-Crypto.html#t:Serialize">Serialize</a> <a href="Blockchain-Fae-Internal-TX.html#t:TX">TX</a></span> <a href="src/Blockchain.Fae.Internal.TX.html#line-94" class="link">Source</a> <a href="#t:TX" class="selflink">#</a></td><td class="doc"><p>Default instance</p></td></tr><tr><td colspan="2"><div id="section.i:id:TX:Serialize:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:put">put</a> :: <a href="../cereal-0.5.5.0/Data-Serialize-Put.html#t:Putter">Putter</a> <a href="Blockchain-Fae-Internal-TX.html#t:TX">TX</a> <a href="#v:put" class="selflink">#</a></p><p class="src"><a href="#v:get">get</a> :: <a href="../cereal-0.5.5.0/Data-Serialize-Get.html#t:Get">Get</a> <a href="Blockchain-Fae-Internal-TX.html#t:TX">TX</a> <a href="#v:get" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TX:NFData:3" class="instance expander" onclick="toggleSection('i:id:TX:NFData:3')"></span> <a href="../cryptonite-0.25/Crypto-Internal-DeepSeq.html#t:NFData">NFData</a> <a href="Blockchain-Fae-Internal-TX.html#t:TX">TX</a></span> <a href="src/Blockchain.Fae.Internal.TX.html#line-98" class="link">Source</a> <a href="#t:TX" class="selflink">#</a></td><td class="doc"><p>Default instance</p></td></tr><tr><td colspan="2"><div id="section.i:id:TX:NFData:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:rnf">rnf</a> :: <a href="Blockchain-Fae-Internal-TX.html#t:TX">TX</a> -&gt; () <a href="#v:rnf" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TX:Digestible:4" class="instance expander" onclick="toggleSection('i:id:TX:Digestible:4')"></span> <a href="Blockchain-Fae-Internal-Crypto.html#t:Digestible">Digestible</a> <a href="Blockchain-Fae-Internal-TX.html#t:TX">TX</a></span> <a href="src/Blockchain.Fae.Internal.TX.html#line-96" class="link">Source</a> <a href="#t:TX" class="selflink">#</a></td><td class="doc"><p>Default instance</p></td></tr><tr><td colspan="2"><div id="section.i:id:TX:Digestible:4" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:digest">digest</a> :: <a href="Blockchain-Fae-Internal-TX.html#t:TX">TX</a> -&gt; <a href="Blockchain-Fae-Internal-Crypto.html#t:Digest">Digest</a> <a href="src/Blockchain.Fae.Internal.Crypto.html#digest" class="link">Source</a> <a href="#v:digest" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TX:Rep:5" class="instance expander" onclick="toggleSection('i:id:TX:Rep:5')"></span> <span class="keyword">type</span> <a href="../base-4.10.1.0/GHC-Generics.html#t:Rep">Rep</a> <a href="Blockchain-Fae-Internal-TX.html#t:TX">TX</a></span> <a href="src/Blockchain.Fae.Internal.TX.html#line-1" class="link">Source</a> <a href="#t:TX" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:TX:Rep:5" class="inst-details hide"><div class="src"><span class="keyword">type</span> <a href="../base-4.10.1.0/GHC-Generics.html#t:Rep">Rep</a> <a href="Blockchain-Fae-Internal-TX.html#t:TX">TX</a> = <a href="../base-4.10.1.0/GHC-Generics.html#t:D1">D1</a> <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a> (<a href="../base-4.10.1.0/GHC-Generics.html#v:MetaData">MetaData</a> &quot;TX&quot; &quot;Blockchain.Fae.Internal.TX&quot; &quot;fae-2.0.0.0-L07ThzIQy745sKb2gq45cw&quot; <a href="../base-4.10.1.0/Data-Bool.html#v:False">False</a>) (<a href="../base-4.10.1.0/GHC-Generics.html#t:C1">C1</a> <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a> (<a href="../base-4.10.1.0/GHC-Generics.html#v:MetaCons">MetaCons</a> &quot;TX&quot; <a href="../base-4.10.1.0/GHC-Generics.html#v:PrefixI">PrefixI</a> <a href="../base-4.10.1.0/Data-Bool.html#v:True">True</a>) (<a href="../base-4.10.1.0/GHC-Generics.html#t::-42-:">(:*:)</a> <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a> (<a href="../base-4.10.1.0/GHC-Generics.html#t::-42-:">(:*:)</a> <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a> (<a href="../base-4.10.1.0/GHC-Generics.html#t:S1">S1</a> <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a> (<a href="../base-4.10.1.0/GHC-Generics.html#v:MetaSel">MetaSel</a> (<a href="../base-4.10.1.0/Data-Maybe.html#v:Just">Just</a> <a href="../base-4.10.1.0/GHC-TypeLits.html#t:Symbol">Symbol</a> &quot;isReward&quot;) <a href="../base-4.10.1.0/GHC-Generics.html#v:NoSourceUnpackedness">NoSourceUnpackedness</a> <a href="../base-4.10.1.0/GHC-Generics.html#v:NoSourceStrictness">NoSourceStrictness</a> <a href="../base-4.10.1.0/GHC-Generics.html#v:DecidedLazy">DecidedLazy</a>) (<a href="../base-4.10.1.0/GHC-Generics.html#t:Rec0">Rec0</a> <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a> <a href="../base-4.10.1.0/Data-Bool.html#t:Bool">Bool</a>)) (<a href="../base-4.10.1.0/GHC-Generics.html#t::-42-:">(:*:)</a> <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a> (<a href="../base-4.10.1.0/GHC-Generics.html#t:S1">S1</a> <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a> (<a href="../base-4.10.1.0/GHC-Generics.html#v:MetaSel">MetaSel</a> (<a href="../base-4.10.1.0/Data-Maybe.html#v:Just">Just</a> <a href="../base-4.10.1.0/GHC-TypeLits.html#t:Symbol">Symbol</a> &quot;txID&quot;) <a href="../base-4.10.1.0/GHC-Generics.html#v:NoSourceUnpackedness">NoSourceUnpackedness</a> <a href="../base-4.10.1.0/GHC-Generics.html#v:NoSourceStrictness">NoSourceStrictness</a> <a href="../base-4.10.1.0/GHC-Generics.html#v:DecidedLazy">DecidedLazy</a>) (<a href="../base-4.10.1.0/GHC-Generics.html#t:Rec0">Rec0</a> <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a> <a href="Blockchain-Fae-Internal-IDs-Types.html#t:TransactionID">TransactionID</a>)) (<a href="../base-4.10.1.0/GHC-Generics.html#t:S1">S1</a> <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a> (<a href="../base-4.10.1.0/GHC-Generics.html#v:MetaSel">MetaSel</a> (<a href="../base-4.10.1.0/Data-Maybe.html#v:Just">Just</a> <a href="../base-4.10.1.0/GHC-TypeLits.html#t:Symbol">Symbol</a> &quot;txMaterials&quot;) <a href="../base-4.10.1.0/GHC-Generics.html#v:NoSourceUnpackedness">NoSourceUnpackedness</a> <a href="../base-4.10.1.0/GHC-Generics.html#v:NoSourceStrictness">NoSourceStrictness</a> <a href="../base-4.10.1.0/GHC-Generics.html#v:DecidedLazy">DecidedLazy</a>) (<a href="../base-4.10.1.0/GHC-Generics.html#t:Rec0">Rec0</a> <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a> <a href="Blockchain-Fae-Internal-Transaction.html#t:InputMaterials">InputMaterials</a>)))) (<a href="../base-4.10.1.0/GHC-Generics.html#t::-42-:">(:*:)</a> <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a> (<a href="../base-4.10.1.0/GHC-Generics.html#t:S1">S1</a> <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a> (<a href="../base-4.10.1.0/GHC-Generics.html#v:MetaSel">MetaSel</a> (<a href="../base-4.10.1.0/Data-Maybe.html#v:Just">Just</a> <a href="../base-4.10.1.0/GHC-TypeLits.html#t:Symbol">Symbol</a> &quot;inputs&quot;) <a href="../base-4.10.1.0/GHC-Generics.html#v:NoSourceUnpackedness">NoSourceUnpackedness</a> <a href="../base-4.10.1.0/GHC-Generics.html#v:NoSourceStrictness">NoSourceStrictness</a> <a href="../base-4.10.1.0/GHC-Generics.html#v:DecidedLazy">DecidedLazy</a>) (<a href="../base-4.10.1.0/GHC-Generics.html#t:Rec0">Rec0</a> <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a> [<a href="Blockchain-Fae-Internal-Transaction.html#t:Input">Input</a>])) (<a href="../base-4.10.1.0/GHC-Generics.html#t::-42-:">(:*:)</a> <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a> (<a href="../base-4.10.1.0/GHC-Generics.html#t:S1">S1</a> <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a> (<a href="../base-4.10.1.0/GHC-Generics.html#v:MetaSel">MetaSel</a> (<a href="../base-4.10.1.0/Data-Maybe.html#v:Just">Just</a> <a href="../base-4.10.1.0/GHC-TypeLits.html#t:Symbol">Symbol</a> &quot;pubKeys&quot;) <a href="../base-4.10.1.0/GHC-Generics.html#v:NoSourceUnpackedness">NoSourceUnpackedness</a> <a href="../base-4.10.1.0/GHC-Generics.html#v:NoSourceStrictness">NoSourceStrictness</a> <a href="../base-4.10.1.0/GHC-Generics.html#v:DecidedLazy">DecidedLazy</a>) (<a href="../base-4.10.1.0/GHC-Generics.html#t:Rec0">Rec0</a> <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a> <a href="Blockchain-Fae-Internal-IDs-Types.html#t:Signers">Signers</a>)) (<a href="../base-4.10.1.0/GHC-Generics.html#t:S1">S1</a> <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a> (<a href="../base-4.10.1.0/GHC-Generics.html#v:MetaSel">MetaSel</a> (<a href="../base-4.10.1.0/Data-Maybe.html#v:Just">Just</a> <a href="../base-4.10.1.0/GHC-TypeLits.html#t:Symbol">Symbol</a> &quot;fallback&quot;) <a href="../base-4.10.1.0/GHC-Generics.html#v:NoSourceUnpackedness">NoSourceUnpackedness</a> <a href="../base-4.10.1.0/GHC-Generics.html#v:NoSourceStrictness">NoSourceStrictness</a> <a href="../base-4.10.1.0/GHC-Generics.html#v:DecidedLazy">DecidedLazy</a>) (<a href="../base-4.10.1.0/GHC-Generics.html#t:Rec0">Rec0</a> <a href="../base-4.10.1.0/Data-Kind.html#t:-42-">*</a> [<a href="../base-4.10.1.0/Data-String.html#t:String">String</a>]))))))</div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:UnquotedString" class="def">UnquotedString</a> <a href="src/Blockchain.Fae.Internal.TX.html#UnquotedString" class="link">Source</a> <a href="#t:UnquotedString" class="selflink">#</a></p><div class="doc"><p>Helpful for printing strings without the surrounding quotes.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:UnquotedString" class="def">UnquotedString</a> <a href="../base-4.10.1.0/Data-String.html#t:String">String</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:UnquotedString" class="caption collapser" onclick="toggleSection('i:UnquotedString')">Instances</p><div id="section.i:UnquotedString" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:UnquotedString:Show:1" class="instance expander" onclick="toggleSection('i:id:UnquotedString:Show:1')"></span> <a href="../base-4.10.1.0/Text-Show.html#t:Show">Show</a> <a href="Blockchain-Fae-Internal-TX.html#t:UnquotedString">UnquotedString</a></span> <a href="src/Blockchain.Fae.Internal.TX.html#line-101" class="link">Source</a> <a href="#t:UnquotedString" class="selflink">#</a></td><td class="doc"><p>Prints a string without the quotes</p></td></tr><tr><td colspan="2"><div id="section.i:id:UnquotedString:Show:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.10.1.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="Blockchain-Fae-Internal-TX.html#t:UnquotedString">UnquotedString</a> -&gt; <a href="../base-4.10.1.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Blockchain-Fae-Internal-TX.html#t:UnquotedString">UnquotedString</a> -&gt; <a href="../base-4.10.1.0/Data-String.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Blockchain-Fae-Internal-TX.html#t:UnquotedString">UnquotedString</a>] -&gt; <a href="../base-4.10.1.0/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:WrappedByteString" class="def">WrappedByteString</a> <a href="src/Blockchain.Fae.Internal.TX.html#WrappedByteString" class="link">Source</a> <a href="#t:WrappedByteString" class="selflink">#</a></p><div class="doc"><p>Helpful for eliminating a <code><a href="Data.html#v:ByteString">ByteString</a></code> dependency in the
 <code><a href="Blockchain-Fae-Internal-TX.html#v:interpretImportedValue">interpretImportedValue</a></code> interpreter.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:WrappedByteString" class="def">WrappedByteString</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:getWrappedByteString" class="def">getWrappedByteString</a> :: <a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString">ByteString</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:FaeInterpretT" class="def">FaeInterpretT</a> m = <a href="../hint-0.7.0/Hint-InterpreterT.html#t:InterpreterT">InterpreterT</a> (<a href="Blockchain-Fae-Internal-Storage.html#t:FaeStorageT">FaeStorageT</a> m) <a href="src/Blockchain.Fae.Internal.TX.html#FaeInterpretT" class="link">Source</a> <a href="#t:FaeInterpretT" class="selflink">#</a></p><div class="doc"><p>Monad for interpreting Fae transactions</p></div></div><h1 id="g:2">Functions</h1><div class="top"><p class="src"><a id="v:interpretTX" class="def">interpretTX</a> :: (<a href="Blockchain-Fae-Internal-Exceptions.html#t:Typeable">Typeable</a> m, <a href="../exceptions-0.8.3/Control-Monad-Catch.html#t:MonadMask">MonadMask</a> m, <a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; <a href="Blockchain-Fae-Internal-TX.html#t:TX">TX</a> -&gt; <a href="Blockchain-Fae-Internal-TX.html#t:FaeInterpretT">FaeInterpretT</a> m () <a href="src/Blockchain.Fae.Internal.TX.html#interpretTX" class="link">Source</a> <a href="#v:interpretTX" class="selflink">#</a></p><div class="doc"><p>Interprets a transaction, looking it up as a module named after its
 transaction ID.  We set up the module search path carefully so that this
 transaction can effectively import both its own other modules, and those
 of other transactions.  Now that we dynamically link <code>faeServer</code>, the
 load-up time for the first transaction is pretty short; subsequent
 transactions are faster still.</p></div></div><div class="top"><p class="src"><a id="v:interpretImportedValue" class="def">interpretImportedValue</a> :: (<a href="Blockchain-Fae-Internal-Exceptions.html#t:Typeable">Typeable</a> m, <a href="../exceptions-0.8.3/Control-Monad-Catch.html#t:MonadMask">MonadMask</a> m, <a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; <a href="Blockchain-Fae-Internal-Storage.html#t:ExportData">ExportData</a> -&gt; <a href="Blockchain-Fae-Internal-TX.html#t:FaeInterpretT">FaeInterpretT</a> m () <a href="src/Blockchain.Fae.Internal.TX.html#interpretImportedValue" class="link">Source</a> <a href="#v:interpretImportedValue" class="selflink">#</a></p><div class="doc"><p>This has to be interpreted because, even though all the information is
 known <em>to the sender</em> of the value to be imported, it can only be
 transmitted textually, and therefore has to be re-parsed into a valid
 type.  The modules necessary for expressing this type are carried in
 <code><a href="Blockchain-Fae-Internal-Storage.html#v:neededModules">neededModules</a></code>; they must be present for the recipient, but the
 corresponding transactions, if any, need not have been fully evaluated.</p></div></div><div class="top"><p class="src"><a id="v:importValueThrow" class="def">importValueThrow</a> :: <span class="keyword">forall</span> a m. (<a href="Blockchain-Fae-Internal-Contract.html#t:Exportable">Exportable</a> a, <a href="../adjunctions-4.4/Control-Monad-Representable-State.html#t:MonadState">MonadState</a> <a href="Blockchain-Fae-Internal-Contract.html#t:Escrows">Escrows</a> m) =&gt; <a href="Blockchain-Fae-Internal-TX.html#t:WrappedByteString">WrappedByteString</a> -&gt; m a <a href="src/Blockchain.Fae.Internal.TX.html#importValueThrow" class="link">Source</a> <a href="#v:importValueThrow" class="selflink">#</a></p><div class="doc"><p>A top-level function (so that it can be in scope in the interpreter of
 <code><a href="Blockchain-Fae-Internal-TX.html#v:interpretImportedValue">interpretImportedValue</a></code>) to handle failed imports.</p></div></div><div class="top"><p class="src"><a id="v:faeInterpret" class="def">faeInterpret</a> :: (<a href="Blockchain-Fae-Internal-Exceptions.html#t:Typeable">Typeable</a> m, <a href="../exceptions-0.8.3/Control-Monad-Catch.html#t:MonadMask">MonadMask</a> m, <a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="Blockchain-Fae-Internal-Exceptions.html#t:Typeable">Typeable</a> a) =&gt; [<a href="../base-4.10.1.0/Data-String.html#t:String">String</a>] -&gt; <a href="../base-4.10.1.0/Data-String.html#t:String">String</a> -&gt; (a -&gt; <a href="Blockchain-Fae-Internal-Storage.html#t:FaeStorage">FaeStorage</a> b) -&gt; <a href="Blockchain-Fae-Internal-TX.html#t:FaeInterpretT">FaeInterpretT</a> m b <a href="src/Blockchain.Fae.Internal.TX.html#faeInterpret" class="link">Source</a> <a href="#v:faeInterpret" class="selflink">#</a></p><div class="doc"><p>The inner interpretation function that appropriately loads modules,
 sets imports, and uses the result both for <code><a href="Blockchain-Fae-Internal-TX.html#v:interpretTX">interpretTX</a></code> and
 <code><a href="Blockchain-Fae-Internal-TX.html#v:interpretImportedValue">interpretImportedValue</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:runFaeInterpret" class="def">runFaeInterpret</a> :: (<a href="../exceptions-0.8.3/Control-Monad-Catch.html#t:MonadMask">MonadMask</a> m, <a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m) =&gt; <a href="Blockchain-Fae-Internal-TX.html#t:FaeInterpretT">FaeInterpretT</a> m a -&gt; m a <a href="src/Blockchain.Fae.Internal.TX.html#runFaeInterpret" class="link">Source</a> <a href="#v:runFaeInterpret" class="selflink">#</a></p><div class="doc"><p>Runs the interpreter.</p></div></div><div class="top"><p class="src"><a id="v:mkTXIDName" class="def">mkTXIDName</a> :: <a href="Blockchain-Fae-Internal-IDs-Types.html#t:TransactionID">TransactionID</a> -&gt; <a href="../base-4.10.1.0/Data-String.html#t:String">String</a> <a href="src/Blockchain.Fae.Internal.TX.html#mkTXIDName" class="link">Source</a> <a href="#v:mkTXIDName" class="selflink">#</a></p><div class="doc"><p>Identifierizes a transaction ID.  On the off chance that an identifier
 (in some context) cannot begin with a number, we add an alphabetic
 prefix.</p></div></div><div class="top"><p class="src"><a id="v:mkTXPathParts" class="def">mkTXPathParts</a> :: <a href="Blockchain-Fae-Internal-IDs-Types.html#t:TransactionID">TransactionID</a> -&gt; [<a href="../base-4.10.1.0/Data-String.html#t:String">String</a>] <a href="src/Blockchain.Fae.Internal.TX.html#mkTXPathParts" class="link">Source</a> <a href="#v:mkTXPathParts" class="selflink">#</a></p><div class="doc"><p>Defines the Fae runtime module hierarchy.</p></div></div><div class="top"><p class="src"><a id="v:mkTXModuleName" class="def">mkTXModuleName</a> :: <a href="Blockchain-Fae-Internal-IDs-Types.html#t:TransactionID">TransactionID</a> -&gt; <a href="../base-4.10.1.0/Data-String.html#t:String">String</a> <a href="src/Blockchain.Fae.Internal.TX.html#mkTXModuleName" class="link">Source</a> <a href="#v:mkTXModuleName" class="selflink">#</a></p><div class="doc"><p>Collapses the transaction path parts into a dot-separated hierarchical
 module name.</p></div></div><h1>Orphan instances</h1><div id="section.orphans" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:o:ic:MonadState:MonadState:1" class="instance expander" onclick="toggleSection('i:o:ic:MonadState:MonadState:1')"></span> <a href="../base-4.10.1.0/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="../adjunctions-4.4/Control-Monad-Representable-State.html#t:MonadState">MonadState</a> <a href="Blockchain-Fae-Internal-Storage.html#t:Storage">Storage</a> (<a href="Blockchain-Fae-Internal-TX.html#t:FaeInterpretT">FaeInterpretT</a> m)</span> <a href="src/Blockchain.Fae.Internal.TX.html#line-105" class="link">Source</a> <a href="#v:-36-fMonadStateStorageInterpreterT" class="selflink">#</a></td><td class="doc"><ul><li></li></ul></td></tr><tr><td colspan="2"><div id="section.i:o:ic:MonadState:MonadState:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:get">get</a> :: <a href="Blockchain-Fae-Internal-TX.html#t:FaeInterpretT">FaeInterpretT</a> m <a href="Blockchain-Fae-Internal-Storage.html#t:Storage">Storage</a> <a href="#v:get" class="selflink">#</a></p><p class="src"><a href="#v:put">put</a> :: <a href="Blockchain-Fae-Internal-Storage.html#t:Storage">Storage</a> -&gt; <a href="Blockchain-Fae-Internal-TX.html#t:FaeInterpretT">FaeInterpretT</a> m () <a href="#v:put" class="selflink">#</a></p><p class="src"><a href="#v:state">state</a> :: (<a href="Blockchain-Fae-Internal-Storage.html#t:Storage">Storage</a> -&gt; (a, <a href="Blockchain-Fae-Internal-Storage.html#t:Storage">Storage</a>)) -&gt; <a href="Blockchain-Fae-Internal-TX.html#t:FaeInterpretT">FaeInterpretT</a> m a <a href="#v:state" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.18.1</p></div></body></html>