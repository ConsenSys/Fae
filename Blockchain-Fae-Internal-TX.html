<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Blockchain.Fae.Internal.TX</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Blockchain-Fae-Internal-TX.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Blockchain.Fae.Internal.TX.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">fae-0.9.0.0</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) Ryan Reich 2017</td></tr><tr><th>License</th><td>MIT</td></tr><tr><th>Maintainer</th><td>ryan.reich@gmail.com</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Blockchain.Fae.Internal.TX</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Types</a></li><li><a href="#g:2">Functions</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module provides the function that interprets transactions given as source code.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:TX">TX</a> = <a href="#v:TX">TX</a> {<ul class="subs"><li><a href="#v:txID">txID</a> :: <a href="Blockchain-Fae-Internal-IDs.html#t:TransactionID">TransactionID</a></li><li><a href="#v:inputs">inputs</a> :: <a href="Blockchain-Fae-Internal-Transaction.html#t:Inputs">Inputs</a></li><li><a href="#v:pubKey">pubKey</a> :: <a href="Blockchain-Fae-Internal-Crypto.html#t:PublicKey">PublicKey</a></li></ul>}</li><li class="src short"><span class="keyword">type</span> <a href="#t:FaeInterpret">FaeInterpret</a> = <a href="../hint-0.7.0/Language-Haskell-Interpreter.html#t:InterpreterT">InterpreterT</a> <a href="Blockchain-Fae-Internal-Transaction.html#t:FaeStorage">FaeStorage</a></li><li class="src short"><a href="#v:interpretTX">interpretTX</a> :: <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a> -&gt; <a href="Blockchain-Fae-Internal-TX.html#t:TX">TX</a> -&gt; <a href="Blockchain-Fae-Internal-TX.html#t:FaeInterpret">FaeInterpret</a> ()</li><li class="src short"><a href="#v:runFaeInterpret">runFaeInterpret</a> :: <a href="Blockchain-Fae-Internal-TX.html#t:FaeInterpret">FaeInterpret</a> a -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> a</li></ul></div><div id="interface"><h1 id="g:1">Types</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TX" class="def">TX</a> <a href="src/Blockchain.Fae.Internal.TX.html#TX" class="link">Source</a> <a href="#t:TX" class="selflink">#</a></p><div class="doc"><p>This is the data type that identifies a transaction in a block; the
 actual transaction function is only known at the time of interpretation.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:TX" class="def">TX</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:txID" class="def">txID</a> :: <a href="Blockchain-Fae-Internal-IDs.html#t:TransactionID">TransactionID</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:inputs" class="def">inputs</a> :: <a href="Blockchain-Fae-Internal-Transaction.html#t:Inputs">Inputs</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:pubKey" class="def">pubKey</a> :: <a href="Blockchain-Fae-Internal-Crypto.html#t:PublicKey">PublicKey</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><p id="control.i:TX" class="caption collapser" onclick="toggleSection('i:TX')">Instances</p><div id="section.i:TX" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TX:Generic:1" class="instance expander" onclick="toggleSection('i:id:TX:Generic:1')"></span> <a href="Blockchain-Fae.html#t:Generic">Generic</a> <a href="Blockchain-Fae-Internal-TX.html#t:TX">TX</a></span> <a href="src/Blockchain.Fae.Internal.TX.html#line-44" class="link">Source</a> <a href="#t:TX" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:TX:Generic:1" class="inst-details hide"><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="../base-4.9.1.0/GHC-Generics.html#t:Rep">Rep</a> <a href="Blockchain-Fae-Internal-TX.html#t:TX">TX</a> :: <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> -&gt; <a href="../base-4.9.1.0/Data-Kind.html#t:-42-">*</a> <a href="#t:Rep" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:from">from</a> :: <a href="Blockchain-Fae-Internal-TX.html#t:TX">TX</a> -&gt; <a href="../base-4.9.1.0/GHC-Generics.html#t:Rep">Rep</a> <a href="Blockchain-Fae-Internal-TX.html#t:TX">TX</a> x <a href="#v:from" class="selflink">#</a></p><p class="src"><a href="#v:to">to</a> :: <a href="../base-4.9.1.0/GHC-Generics.html#t:Rep">Rep</a> <a href="Blockchain-Fae-Internal-TX.html#t:TX">TX</a> x -&gt; <a href="Blockchain-Fae-Internal-TX.html#t:TX">TX</a> <a href="#v:to" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TX:Serialize:2" class="instance expander" onclick="toggleSection('i:id:TX:Serialize:2')"></span> <a href="Blockchain-Fae-Internal-Crypto.html#t:Serialize">Serialize</a> <a href="Blockchain-Fae-Internal-TX.html#t:TX">TX</a></span> <a href="src/Blockchain.Fae.Internal.TX.html#line-53" class="link">Source</a> <a href="#t:TX" class="selflink">#</a></td><td class="doc"><p>Default instance</p></td></tr><tr><td colspan="2"><div id="section.i:id:TX:Serialize:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:put">put</a> :: <a href="../cereal-0.5.4.0/Data-Serialize-Put.html#t:Putter">Putter</a> <a href="Blockchain-Fae-Internal-TX.html#t:TX">TX</a> <a href="#v:put" class="selflink">#</a></p><p class="src"><a href="#v:get">get</a> :: <a href="../cereal-0.5.4.0/Data-Serialize-Get.html#t:Get">Get</a> <a href="Blockchain-Fae-Internal-TX.html#t:TX">TX</a> <a href="#v:get" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TX:NFData:3" class="instance expander" onclick="toggleSection('i:id:TX:NFData:3')"></span> <a href="Blockchain-Fae.html#t:NFData">NFData</a> <a href="Blockchain-Fae-Internal-TX.html#t:TX">TX</a></span> <a href="src/Blockchain.Fae.Internal.TX.html#line-57" class="link">Source</a> <a href="#t:TX" class="selflink">#</a></td><td class="doc"><p>Default instance</p></td></tr><tr><td colspan="2"><div id="section.i:id:TX:NFData:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:rnf">rnf</a> :: <a href="Blockchain-Fae-Internal-TX.html#t:TX">TX</a> -&gt; () <a href="#v:rnf" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TX:Digestible:4" class="instance expander" onclick="toggleSection('i:id:TX:Digestible:4')"></span> <a href="Blockchain-Fae-Internal-Crypto.html#t:Digestible">Digestible</a> <a href="Blockchain-Fae-Internal-TX.html#t:TX">TX</a></span> <a href="src/Blockchain.Fae.Internal.TX.html#line-55" class="link">Source</a> <a href="#t:TX" class="selflink">#</a></td><td class="doc"><p>Default instance</p></td></tr><tr><td colspan="2"><div id="section.i:id:TX:Digestible:4" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:digest">digest</a> :: <a href="Blockchain-Fae-Internal-TX.html#t:TX">TX</a> -&gt; <a href="Blockchain-Fae-Internal-Crypto.html#t:Digest">Digest</a> <a href="src/Blockchain.Fae.Internal.Crypto.html#digest" class="link">Source</a> <a href="#v:digest" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:TX:Rep:5" class="instance expander" onclick="toggleSection('i:id:TX:Rep:5')"></span> <span class="keyword">type</span> <a href="../base-4.9.1.0/GHC-Generics.html#t:Rep">Rep</a> <a href="Blockchain-Fae-Internal-TX.html#t:TX">TX</a></span> <a href="src/Blockchain.Fae.Internal.TX.html#line-37" class="link">Source</a> <a href="#t:TX" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:TX:Rep:5" class="inst-details hide"><div class="src"><span class="keyword">type</span> <a href="../base-4.9.1.0/GHC-Generics.html#t:Rep">Rep</a> <a href="Blockchain-Fae-Internal-TX.html#t:TX">TX</a> = <a href="../base-4.9.1.0/GHC-Generics.html#t:D1">D1</a> (<a href="../base-4.9.1.0/GHC-Generics.html#v:MetaData">MetaData</a> &quot;TX&quot; &quot;Blockchain.Fae.Internal.TX&quot; &quot;fae-0.9.0.0-5b8Joj7e0DOwNmonXcml8&quot; <a href="../base-4.9.1.0/Data-Bool.html#v:False">False</a>) (<a href="../base-4.9.1.0/GHC-Generics.html#t:C1">C1</a> (<a href="../base-4.9.1.0/GHC-Generics.html#v:MetaCons">MetaCons</a> &quot;TX&quot; <a href="../base-4.9.1.0/GHC-Generics.html#v:PrefixI">PrefixI</a> <a href="../base-4.9.1.0/Data-Bool.html#v:True">True</a>) (<a href="../base-4.9.1.0/GHC-Generics.html#t::-42-:">(:*:)</a> (<a href="../base-4.9.1.0/GHC-Generics.html#t:S1">S1</a> (<a href="../base-4.9.1.0/GHC-Generics.html#v:MetaSel">MetaSel</a> (<a href="../base-4.9.1.0/Data-Maybe.html#v:Just">Just</a> <a href="../base-4.9.1.0/GHC-TypeLits.html#t:Symbol">Symbol</a> &quot;txID&quot;) <a href="../base-4.9.1.0/GHC-Generics.html#v:NoSourceUnpackedness">NoSourceUnpackedness</a> <a href="../base-4.9.1.0/GHC-Generics.html#v:NoSourceStrictness">NoSourceStrictness</a> <a href="../base-4.9.1.0/GHC-Generics.html#v:DecidedLazy">DecidedLazy</a>) (<a href="../base-4.9.1.0/GHC-Generics.html#t:Rec0">Rec0</a> <a href="Blockchain-Fae-Internal-IDs.html#t:TransactionID">TransactionID</a>)) (<a href="../base-4.9.1.0/GHC-Generics.html#t::-42-:">(:*:)</a> (<a href="../base-4.9.1.0/GHC-Generics.html#t:S1">S1</a> (<a href="../base-4.9.1.0/GHC-Generics.html#v:MetaSel">MetaSel</a> (<a href="../base-4.9.1.0/Data-Maybe.html#v:Just">Just</a> <a href="../base-4.9.1.0/GHC-TypeLits.html#t:Symbol">Symbol</a> &quot;inputs&quot;) <a href="../base-4.9.1.0/GHC-Generics.html#v:NoSourceUnpackedness">NoSourceUnpackedness</a> <a href="../base-4.9.1.0/GHC-Generics.html#v:NoSourceStrictness">NoSourceStrictness</a> <a href="../base-4.9.1.0/GHC-Generics.html#v:DecidedLazy">DecidedLazy</a>) (<a href="../base-4.9.1.0/GHC-Generics.html#t:Rec0">Rec0</a> <a href="Blockchain-Fae-Internal-Transaction.html#t:Inputs">Inputs</a>)) (<a href="../base-4.9.1.0/GHC-Generics.html#t:S1">S1</a> (<a href="../base-4.9.1.0/GHC-Generics.html#v:MetaSel">MetaSel</a> (<a href="../base-4.9.1.0/Data-Maybe.html#v:Just">Just</a> <a href="../base-4.9.1.0/GHC-TypeLits.html#t:Symbol">Symbol</a> &quot;pubKey&quot;) <a href="../base-4.9.1.0/GHC-Generics.html#v:NoSourceUnpackedness">NoSourceUnpackedness</a> <a href="../base-4.9.1.0/GHC-Generics.html#v:NoSourceStrictness">NoSourceStrictness</a> <a href="../base-4.9.1.0/GHC-Generics.html#v:DecidedLazy">DecidedLazy</a>) (<a href="../base-4.9.1.0/GHC-Generics.html#t:Rec0">Rec0</a> <a href="Blockchain-Fae-Internal-Crypto.html#t:PublicKey">PublicKey</a>)))))</div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:FaeInterpret" class="def">FaeInterpret</a> = <a href="../hint-0.7.0/Language-Haskell-Interpreter.html#t:InterpreterT">InterpreterT</a> <a href="Blockchain-Fae-Internal-Transaction.html#t:FaeStorage">FaeStorage</a> <a href="src/Blockchain.Fae.Internal.TX.html#FaeInterpret" class="link">Source</a> <a href="#t:FaeInterpret" class="selflink">#</a></p><div class="doc"><p>This builds on <code><a href="Blockchain-Fae-Internal-Transaction.html#t:FaeStorage">FaeStorage</a></code> because the interpreter has to access the
 storage as part of <code><a href="Blockchain-Fae-Internal-Transaction.html#v:runTransaction">runTransaction</a></code>.</p></div></div><h1 id="g:2">Functions</h1><div class="top"><p class="src"><a id="v:interpretTX" class="def">interpretTX</a> :: <a href="../base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a> -&gt; <a href="Blockchain-Fae-Internal-TX.html#t:TX">TX</a> -&gt; <a href="Blockchain-Fae-Internal-TX.html#t:FaeInterpret">FaeInterpret</a> () <a href="src/Blockchain.Fae.Internal.TX.html#interpretTX" class="link">Source</a> <a href="#v:interpretTX" class="selflink">#</a></p><div class="doc"><p>Interprets a transaction, looking it up as a module named after its
 transaction ID; the first argument is whether or not the transaction
 gets a reward.  We set up the module search path carefully so that this
 transaction can effectively import both its own other modules, and those
 of other transactions.  The first transaction is very slow because the
 interpreter has to initialize, but subsequent ones are acceptably fast.</p></div></div><div class="top"><p class="src"><a id="v:runFaeInterpret" class="def">runFaeInterpret</a> :: <a href="Blockchain-Fae-Internal-TX.html#t:FaeInterpret">FaeInterpret</a> a -&gt; <a href="../base-4.9.1.0/System-IO.html#t:IO">IO</a> a <a href="src/Blockchain.Fae.Internal.TX.html#runFaeInterpret" class="link">Source</a> <a href="#v:runFaeInterpret" class="selflink">#</a></p><div class="doc"><p>Runs the interpreter.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.3</p></div></body></html>